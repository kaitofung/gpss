<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.gpss.goods.service.dao.IGoodsDao">
	
 <select id="doGetBeans" resultType="com.lyyzoo.gpss.api.vo.Goods" parameterType="java.util.Map">
	select g.gid, g.name,  gt.name, g.producer,g.description, gs.name,g.price, g.photo from
		goods g left join goods_type gt on 
			g.gtype_id = gt.gtype_id 
				left join goods_specification gs 
					on g.gspecification_id = gs.gspecification_id
		<if test="name != null &amp; name != &quot;&quot;">
			where g.name like #{name}
		</if>
		<if test="pagesize != null &amp; offset != null">
			limit #{offset}, #{pagesize}
		</if>
</select>

<select id="doGetBeansCount" resultType="long" parameterType="java.util.Map">
	select count(gid)
		from goods 
		<if test="name != null &amp; name != &quot;&quot;">
			where name like #{name}
		</if>
</select>

<delete id="doDeleteBeans" parameterType="list">
	delete from goods where gid in
	<foreach collection="list" open="(" close=")" separator="," item="item">
		#{item}
	</foreach>
</delete>


</mapper>

			
			
			
			